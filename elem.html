<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sugarbush School Dashboard</title>
    <style>
        :root { --wood: #5D4037; --sap: #81D4FA; --syrup: #FF6F00; --paper: #FFF9E3; --orange: #D84315; }
        body { font-family: 'Comic Sans MS', sans-serif; background-color: var(--paper); color: var(--wood); margin: 0; padding: 0; transition: all 0.3s ease; }
        .mode-bar { background: #333; color: white; width: 100%; padding: 10px; text-align: center; position: sticky; top: 0; z-index: 1000; display: flex; justify-content: center; gap: 10px; align-items: center; }
        .toggle-btn { background: var(--orange); color: white; border: none; padding: 10px 15px; border-radius: 10px; font-weight: bold; cursor: pointer; }
        .lang-btn { background: #555; color: white; border: none; padding: 10px 15px; border-radius: 10px; cursor: pointer; font-weight: bold; }
        
        .section { max-width: 850px; width: 95%; background: white; margin: 20px auto; padding: 25px; border-radius: 30px; border: 5px solid #8D6E63; box-shadow: 0 8px 0 #6d360e; box-sizing: border-box; }
        .lesson-box { background: #EFEBE9; padding: 15px; border-radius: 15px; margin-bottom: 20px; border-left: 5px solid var(--orange); position: relative; }
        .speak-btn { background: #8D6E63; color: white; border: none; border-radius: 50%; width: 40px; height: 40px; cursor: pointer; float: right; margin-left: 10px; }
        
        /* Projector Mode Styles */
        body.projector-mode { font-size: 1.6rem; }
        body.projector-mode .section { max-width: 98%; }
        body.projector-mode h1 { font-size: 3.5rem; }
        body.projector-mode .btn { font-size: 2rem; padding: 20px 40px; }

        /* Forecast Table */
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th { background: #8D6E63; color: white; padding: 10px; }
        td { padding: 10px; text-align: center; border-bottom: 2px solid #ddd; }
        .temp-input { width: 60px; padding: 10px; font-size: 1rem; text-align: center; }

        /* Boiler Graphics */
        .boiler-grid { display: flex; justify-content: space-around; align-items: flex-end; height: 250px; margin: 30px 0; }
        .tank { width: 100px; border: 5px solid #90A4AE; position: relative; overflow: hidden; border-radius: 0 0 20px 20px; }
        .sap-tank { height: 200px; background: #E1F5FE; }
        .syrup-bottle { height: 80px; background: #FFF3E0; border-color: #FF8F00; }
        .fill { width: 100%; position: absolute; bottom: 0; transition: height 0.3s; }
        #sapFill { background: var(--sap); height: 100%; }
        #syrupFill { background: var(--syrup); height: 0%; }
        
        .btn { cursor: pointer; border: none; background: var(--orange); color: white; border-radius: 15px; box-shadow: 0 5px 0 #9E2A0B; }
    </style>
</head>
<body>

    <div class="mode-bar">
        <button class="toggle-btn" onclick="toggleProjector()">ğŸ“½ï¸ Projector Mode</button>
        <button class="lang-btn" id="langBtn" onclick="toggleLanguage()">Cambiar a EspaÃ±ol ğŸ‡ªğŸ‡¸</button>
    </div>

    <div class="section">
        <h1 id="titleForecast">ğŸ“… 5-Day Sap Forecast</h1>
        <div class="lesson-box">
            <button class="speak-btn" onclick="speakText('lesson1')">ğŸ”Š</button>
            <span id="lesson1">Morning Meeting Task: Find today's weather! Enter the Low and High to see if the sap will run.</span>
        </div>
        <table>
            <tr id="tableHeader">
                <th>Day</th><th>Night (Low)</th><th>Day (High)</th><th>Sap Run?</th>
            </tr>
            <script>
                for(let i=1; i<=5; i++) {
                    document.write(`
                        <tr>
                            <td class="dayText">Day ${i}</td>
                            <td><input type="number" class="temp-input" id="low${i}" value="28" onchange="calcForecast(${i})">Â°F</td>
                            <td><input type="number" class="temp-input" id="high${i}" value="42" onchange="calcForecast(${i})">Â°F</td>
                            <td id="status${i}" class="status-cell">ğŸª£ Great!</td>
                        </tr>
                    `);
                }
            </script>
        </table>
    </div>

    <div class="section">
        <h1 id="titleBoiler">ğŸ”¥ The Magic 40 Boiler</h1>
        <div class="lesson-box">
            <button class="speak-btn" onclick="speakText('lesson2')">ğŸ”Š</button>
            <span id="lesson2">Sap is mostly water. We boil it to make steam! It takes 40 gallons of sap to make 1 gallon of syrup.</span>
        </div>
        <div class="boiler-grid">
            <div style="text-align:center;"><b id="labelSap">Sap Left</b>: <span id="sapCount">40</span>g<div class="tank sap-tank"><div id="sapFill" class="fill"></div></div></div>
            <div style="text-align:center;"><b id="labelSyrup">Syrup Made</b><div class="tank syrup-bottle"><div id="syrupFill" class="fill"></div></div></div>
        </div>
        <div style="text-align:center;">
            <button class="btn" style="padding: 15px 30px; font-size: 1.5rem;" id="boilBtn" onclick="boil()">BOIL! â˜ï¸</button>
        </div>
    </div>

    <div class="section">
        <h1 id="titleGlossary">ğŸ“– Maple Dictionary</h1>
        <div id="glossaryList">
            <p><b>Xylem:</b> Tiny tubes inside the tree that carry sap. / Tubos diminutos dentro del Ã¡rbol que transportan la savia.</p>
            
            <p><b>Evaporator:</b> The big pan where we boil sap. / La sartÃ©n grande donde hervimos la savia.</p>
            
            <p><b>Tap:</b> A small hole to borrow sap. / Un pequeÃ±o agujero para tomar la savia.</p>
            
        </div>
    </div>

    <script>
        let isSpanish = false;

        const translations = {
            en: {
                btn: "Cambiar a EspaÃ±ol ğŸ‡ªğŸ‡¸",
                titleForecast: "ğŸ“… 5-Day Sap Forecast",
                lesson1: "Morning Meeting Task: Find today's weather! Enter the Low and High to see if the sap will run.",
                tableHeader: "<th>Day</th><th>Night (Low)</th><th>Day (High)</th><th>Sap Run?</th>",
                titleBoiler: "ğŸ”¥ The Magic 40 Boiler",
                lesson2: "Sap is mostly water. We boil it to make steam! It takes 40 gallons of sap to make 1 gallon of syrup.",
                labelSap: "Sap Left",
                labelSyrup: "Syrup Made",
                boilBtn: "BOIL! â˜ï¸",
                titleGlossary: "ğŸ“– Maple Dictionary",
                great: "ğŸª£ Great!",
                cold: "â„ï¸ Too Cold",
                warm: "â˜ï¸ Too Warm"
            },
            es: {
                btn: "Switch to English ğŸ‡ºğŸ‡¸",
                titleForecast: "ğŸ“… PronÃ³stico de Savia",
                lesson1: "Tarea de la maÃ±ana: Â¡Busca el clima de hoy! Pon el MÃ­nimo y MÃ¡ximo para ver si sale savia.",
                tableHeader: "<th>DÃ­a</th><th>Noche (Bajo)</th><th>DÃ­a (Alto)</th><th>Â¿Sale Savia?</th>",
                titleBoiler: "ğŸ”¥ El Caldero MÃ¡gico 40",
                lesson2: "La savia es casi pura agua. Â¡La hervimos para hacer vapor! Se necesitan 40 galones de savia para 1 de jarabe.",
                labelSap: "Savia Restante",
                labelSyrup: "Jarabe Hecho",
                boilBtn: "Â¡HERVIR! â˜ï¸",
                titleGlossary: "ğŸ“– Diccionario de Arce",
                great: "ğŸª£ Â¡Genial!",
                cold: "â„ï¸ FrÃ­o",
                warm: "â˜ï¸ Caliente"
            }
        };

        function toggleLanguage() {
            isSpanish = !isSpanish;
            const lang = isSpanish ? 'es' : 'en';
            document.getElementById('langBtn').innerText = translations[lang].btn;
            document.getElementById('titleForecast').innerText = translations[lang].titleForecast;
            document.getElementById('lesson1').innerText = translations[lang].lesson1;
            document.getElementById('tableHeader').innerHTML = translations[lang].tableHeader;
            document.getElementById('titleBoiler').innerText = translations[lang].titleBoiler;
            document.getElementById('lesson2').innerText = translations[lang].lesson2;
            document.getElementById('labelSap').innerText = translations[lang].labelSap;
            document.getElementById('labelSyrup').innerText = translations[lang].labelSyrup;
            document.getElementById('boilBtn').innerText = translations[lang].boilBtn;
            document.getElementById('titleGlossary').innerText = translations[lang].titleGlossary;
            
            for(let i=1; i<=5; i++) { 
                document.querySelectorAll('.dayText')[i-1].innerText = isSpanish ? "DÃ­a " + i : "Day " + i;
                calcForecast(i); 
            }
        }

        function speakText(elementId) {
            const text = document.getElementById(elementId).innerText;
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = isSpanish ? 'es-ES' : 'en-US';
            window.speechSynthesis.speak(utterance);
        }

        function toggleProjector() { document.body.classList.toggle('projector-mode'); }

        function calcForecast(day) {
            const low = document.getElementById('low' + day).value;
            const high = document.getElementById('high' + day).value;
            const status = document.getElementById('status' + day);
            const lang = isSpanish ? 'es' : 'en';
            if (low < 32 && high > 32) { status.innerHTML = translations[lang].great; status.style.color = "green"; }
            else if (low >= 32) { status.innerHTML = translations[lang].warm; status.style.color = "orange"; }
            else if (high <= 32) { status.innerHTML = translations[lang].cold; status.style.color = "blue"; }
        }

        let sap = 40;
        function boil() {
            if(sap > 0) {
                sap--;
                document.getElementById('sapCount').innerText = sap;
                document.getElementById('sapFill').style.height = (sap/40*100) + "%";
                document.getElementById('syrupFill').style.height = ((40-sap)/40*100) + "%";
            }
        }
    </script>
</body>
</html>
